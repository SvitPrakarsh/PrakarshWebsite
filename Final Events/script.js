var app = angular.module('app', ['ngAnimate'])

app.controller('mainCtrl', function($scope) {
    $scope.boxes = [{
            name: "HR SUMMIT ",
            "tagline": "â€œOptimize Your Human Equity",
            "color": 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSJp7fyzOMSmIWhoWQDA8smmRppvKc_EBqB-3xXNpNtUrkR3Ire',
            imageUrl: "https://svitprakarsh.github.io/PrakarshGraphics/events/ancillary/2019/hr-summit.webp",
            "dataUrl": {
                "eventName": "HR SUMMIT ",
                "imageUrl": "",
                "details": [{
                        "sectionHeader": "Introduction",
                        "sectionContent": "A guest lecture will be conducted by the experts of the HR from Multi-National Companies"
                    },
                    {
                        "sectionHeader": "Abstract",
                        "sectionContent": "The seminar about the Leadership Development will be conducted by the HR of MultiNational Companies. The participants can extract maximum knowledge from the company HR leads. They can build better communication and management skills. "
                    },

                    {
                        "sectionHeader": "Participation",
                        "sectionContent": "Individual"
                    },
                    {
                        "sectionHeader": "Venue & Time",
                        "sectionContent": "Aero Auditorium (2nd floor) on 13th feb,2019 @ 1:15pm"

                    }
                ],
                "contactDetails": [{
                        "name": "Ujjaval Trivedi",
                        "number": " 7984309067"
                    },
                    {
                        "name": "Anil Maheshwari ",
                        "number": "9427086201"
                    }

                ]
            }
        },
        {
            name: "MIND POWER",
            "tagline": "Boost your career and focus on goal",
            "color": 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSJp7fyzOMSmIWhoWQDA8smmRppvKc_EBqB-3xXNpNtUrkR3Ire',
            "imageUrl": "https://svitprakarsh.github.io/PrakarshGraphics/events/ancillary/2019/brain-power.webp",
            "dataUrl": {
                "eventName": "MIND POWER",
                "imageUrl": "",
                "details": [{
                        "sectionHeader": "Introduction",
                        "sectionContent": "A guest lecture conducted by an expert in Mind Power."
                    },
                    {
                        "sectionHeader": "Abstract",
                        "sectionContent": "A seminar will conducted by an expert Prof. Dilipkumar Thakkar, From MSU Polytechnic. The topic will be related to how to control mind & how make goal & achieving goal & give briefly knowledge about it."
                    },
                    {
                        "sectionHeader": "Participation",
                        "sectionContent": "Individual"
                    },
                    {
                        "sectionHeader": "Venue & Time",
                        "sectionContent": "EC Seminar hall on 13th Feb,2019 @ 12:45 pm"
                    }
                ],
                "contactDetails": [{
                        "name": "Raulji Yuvraj ",
                        "number": "7698523117"
                    },
                    {
                        "name": "Abhisek Parmar",
                        "number": "8866047249"
                    }
                ]
            }
        },
        {
            name: "INDIAN AIRFORCE ",
            "tagline": "",
            "color": 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSJp7fyzOMSmIWhoWQDA8smmRppvKc_EBqB-3xXNpNtUrkR3Ire',
            "imageUrl": "https://svitprakarsh.github.io/PrakarshGraphics/events/ancillary/2019/indian-air-force.webp",
            "dataUrl": {
                "eventName": "INDIAN AIRFORCE ",
                "imageUrl": "",
                "details": [{
                        "sectionHeader": "Introduction",
                        "sectionContent": "A Guest lecture conducted by Ex. Indian Airforce officer."
                    },
                    {
                        "sectionHeader": "Abstract",
                        "sectionContent": "Seminar on career in Indian Air force and How to join Indian Airforce or any defence sector.Also on leadership development. The Lecture will be conducted by Retired Indian Air Force officer Mr. Shashi Ranjan. He was a former Air Defence System Operator  "
                    },

                    {
                        "sectionHeader": "Participation",
                        "sectionContent": "Individual"
                    },
                    {
                        "sectionHeader": "Venue & Time",
                        "sectionContent": "Aero Auditorium (2nd floor) on 14th feb,2019 @10:45 pm"

                    }
                ],
                "contactDetails": [{
                        "name": "Vipul Chaudhari ",
                        "number": "9687919498"
                    },
                    {
                        "name": "Krishna Murti",
                        "number": "9974541476"
                    }

                ]
            }
        },
        {
            name: "EMPLOYMENT MANTRA",
            "tagline": "",
            "color": 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSJp7fyzOMSmIWhoWQDA8smmRppvKc_EBqB-3xXNpNtUrkR3Ire',
            "imageUrl": "https://svitprakarsh.github.io/PrakarshGraphics/events/ancillary/2019/employment-mantra.webp",
            "dataUrl": {
                "eventName": "EMPLOYMENT MANTRA",
                "imageUrl": "",
                "details": [{
                        "sectionHeader": "Introduction",
                        "sectionContent": "A guest lecture conducted by Director of PGDM department of Parul University."
                    },
                    {
                        "sectionHeader": "Abstract",
                        "sectionContent": "A seminar will conducted by an expert Mr Aniruddha Tambe, From Parul University. Some topics to be covered in this talk will be  1. What to do after education? 2. How to overcome unemployment. 3. What extra skills you require to get a secure job."
                    },

                    {
                        "sectionHeader": "Participation",
                        "sectionContent": "Individual"
                    },
                    {
                        "sectionHeader": "Venue & Time",
                        "sectionContent": "Aero Auditorium (2nd floor) on 14th feb,2019 @12:45pm"
                    }
                ],
                "contactDetails": [{
                        "name": "Prachi Rana",
                        "number": "9925548574"
                    },
                    {
                        "name": "Amit Parmar",
                        "number": "8530035988"
                    }

                ]
            }
        },
        {
            name: "Vlog-Along",
            "tagline": "",
            "color": 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSJp7fyzOMSmIWhoWQDA8smmRppvKc_EBqB-3xXNpNtUrkR3Ire',
            "imageUrl": "https://svitprakarsh.github.io/PrakarshGraphics/events/ancillary/2019/vlog-along.webp",
            "dataUrl": {
                "eventName": "Vlog-Along",
                "imageUrl": "",
                "details": [{
                        "sectionHeader": "Introduction",
                        "sectionContent": "A guest lecture based on youtube vlogging."
                    },
                    {
                        "sectionHeader": "Abstract",
                        "sectionContent": "The seminar on youtube vlogging would be conducted by well known Mr. Aariz Saiyed (comedian/musician) from The Comedy Factory.Aspects like journey of life as a youtube vlogger will be held, this session also include fun of stand up comedy too during the ongoing seminar."
                    },
                    {
                        "sectionHeader": "Participation",
                        "sectionContent": "Individual"
                    },
                    {
                        "sectionHeader": "Venue & Time",
                        "sectionContent": "Aero Auditorium (2nd floor) on 13th feb,2019 @ 10:45pm"

                    }
                ],
                "contactDetails": [{
                        "name": "Nikita Bhagat ",
                        "number": "8140837095"
                    },
                    {
                        "name": "Pushpendra kumar ",
                        "number": "8780898524"
                    }
                ]
            }
        }


    ];

    $scope.selected = [];
    $scope.selectBox = function(item, position) {
        $scope.selected = [{
            item: item,
            position: position
        }];
        $scope.$apply();
    }
    $scope.clearSelection = function() {
        $scope.selected = [];
    }
})

app.directive('box', function() {
    return {
        restrict: 'E',
        scope: {},
        bindToController: {
            onSelect: "=",
            item: "="
        },
        controllerAs: 'box',
        controller: function() {
            var box = this;

            box.goFullscreen = function(e) {
                box.onSelect(box.item, e.target.getBoundingClientRect())
            }
        },
        link: function(scope, element) {
            element.bind('click', scope.box.goFullscreen)
            element.css({
                'background-image': 'url(' + scope.box.item.imageUrl + ')'
            })
        }
    }
})

app.directive('bigBox', function($timeout) {
    return {
        restrict: 'AE',
        scope: {},
        bindToController: {
            position: "=",
            selected: "=",
            onSelect: "="
        },
        controllerAs: 'box',
        controller: function() {
            var box = this;
        },
        link: function(scope, element) {
            var css = {}
            for (var key in scope.box.position) {
                css[key] = scope.box.position[key] + 'px';
            }

            element.css(css);

            $timeout(function() {
                element.css({
                    top: '22%',
                    left: '10%'
                })
                element.addClass('image-out');
            }, 200)

            $timeout(function() {
                element.css({
                    width: '80%',
                    height: '100%'
                })
            }, 500)

            $timeout(function() {
                element.addClass('show');
            }, 800)
        }
    }
})